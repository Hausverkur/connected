@using Connected.Services
@model Connected.ViewModels.RecipeViewModel

@{
    ViewBag.Title = "DisplayRecipe";
    <link href="~/Content/DisplayRecipe.css" rel="stylesheet" />
}


<div class="RecipeArea">
    <h1 class="RecipeName">
        @Html.DisplayFor(model => model.Name)
    </h1>
    <div class="Image">
        @Html.DisplayFor(model => model.Image)
        <img src="../../Images/sandwich.jpg" height="250px" width="250px" class="Image" alt="Logo" />

    </div>

    <p class="Description">
        <b class="DescriptionName">
            @Html.DisplayNameFor(model => model.Description)
        </b> 
        <br />
        @Html.DisplayFor(model => model.Description)
    <br />
    </p>

    <p class="Ingredients">
        <b class="IngredientsName">
            @Html.DisplayNameFor(model => model.Ingredients)
        </b> 
        <br />
        @Html.DisplayFor(model => model.Ingredients)
    <br />
    </p>

    <p class="Method">
        <b class="MethodName">
            @Html.DisplayNameFor(model => model.Method)
        </b> 
        <br />
        @Html.DisplayFor(model => model.Method)
    <br />
    </p>

    <p class="Date">
        Posted on: @Html.DisplayFor(model => model.DateTimePosted)
    </p>
</div>


<button class="create">
    @if (Model.Id != null)
    {
        Html.ActionLink("Comment", "CreateRecipeComment", new {id = Model.Id}, null);
    }

</button>
<!--What is the problem here?-->
@foreach (var comment in Model.Comments)
{
    <p><b>@comment.Author.UserName</b></p>
    <p>@comment.Body</p>
    <br />
}
<div>
    @Html.ActionLink("Back to Recipes", "ListOfRecipes")
</div>