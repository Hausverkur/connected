@model Connected.ViewModels.UserMessagesViewModel

@{
    ViewBag.Title = "Messages";
    <link href="~/Content/Messsage.css" rel="stylesheet" />
}
<div class="Messages">
    <h2>Messages</h2>
    <button class="Create">
        @Html.ActionLink("Create New", "CreateMessage")
        </button>
</div>

<div class="MessageArea">
    <div class="Recieved">
        <h2>Recieved</h2>
        @if (Model.RecievedMessages.Count > 0)
        {

            foreach (var item in Model.RecievedMessages)
            {
                <p class="User">@item.Author.UserName
                @Html.ActionLink("Reply", "CreateMessage")</p> <!--Fix the reply-->
                <p class="Title">@Html.DisplayFor(modelItem => item.Title)</p>
                <p> @Html.DisplayFor(modelItem => item.Body)</p>

            }

        }
    </div>
    <div class="Sent">
        <h2>Sent</h2>
        @if (Model.SentMessages.Count > 0)
        {

            foreach (var item in Model.SentMessages)
            {
                <p class="User">@item.Author.UserName</p>
                <p class="Title">@Html.DisplayFor(modelItem => item.Title)</p>
                <p>@Html.DisplayFor(modelItem => item.Body)</p>

            }

        }
    </div>
</div>
<div class="Footer">
    <a href="javascript:history.go(-1)">Back</a>
</div>